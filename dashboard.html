<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoreExchange | Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --bg: #020617;
            --surface: #0f172a;
            --surface-light: #1e293b;
            --primary: #22d3ee;
            --secondary: #10b981;
            --accent: #6366f1;
            --danger: #f43f5e;
            --text: #f8fafc;
            --text-muted: #94a3b8;
            --border: rgba(255, 255, 255, 0.08);
            --modal-overlay: rgba(2, 6, 23, 0.9);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; }
        body { background: var(--bg); color: var(--text); overflow-x: hidden; }

        /* --- LAYOUT --- */
        .wrapper { display: grid; grid-template-columns: 260px 1fr 320px; height: 100vh; }

        /* --- SIDEBAR --- */
        aside { background: var(--surface); border-right: 1px solid var(--border); padding: 2rem; display: flex; flex-direction: column; }
        .logo { font-size: 1.2rem; font-weight: 800; margin-bottom: 3rem; color: #fff; text-decoration: none; display: flex; align-items: center; gap: 10px; }
        .logo span { color: var(--primary); }
        .nav-links { list-style: none; flex: 1; }
        .nav-links li { margin-bottom: 0.5rem; }
        .nav-links a { color: var(--text-muted); text-decoration: none; padding: 0.8rem 1rem; border-radius: 12px; display: flex; align-items: center; gap: 12px; transition: 0.3s; cursor: pointer; }
        .nav-links a:hover, .nav-links a.active { background: rgba(34, 211, 238, 0.1); color: var(--primary); }

        /* --- UI COMPONENTS --- */
        .user-trigger { display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 5px; border-radius: 50px; }
        .avatar { width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--primary); }
        .profile-dropdown { 
            position: absolute; top: 55px; right: 0; background: var(--surface-light); 
            border: 1px solid var(--border); border-radius: 16px; width: 200px; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.5); display: none; z-index: 2000;
        }
        .profile-dropdown.show { display: block; animation: slideIn 0.2s ease-out; }
        .dropdown-item { padding: 12px 20px; display: flex; align-items: center; gap: 10px; color: var(--text); text-decoration: none; font-size: 0.9rem; }

        main { padding: 2rem; overflow-y: auto; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; }
        .stat-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin-bottom: 2rem; }
        .stat-card { background: var(--surface); padding: 1.5rem; border-radius: 20px; border: 1px solid var(--border); }
        .value { font-size: 1.5rem; font-weight: 700; margin-top: 5px; }

        /* --- MODALS --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--modal-overlay); backdrop-filter: blur(10px);
            display: none; align-items: center; justify-content: center; z-index: 5000;
        }
        .modal-overlay.active { display: flex; }
        .modal-card {
            background: var(--surface); width: 95%; max-width: 450px;
            border-radius: 28px; border: 1px solid var(--border);
            padding: 2rem; max-height: 90vh; overflow-y: auto;
        }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
        
        /* --- TABS --- */
        .tab-nav { display: flex; background: var(--bg); padding: 5px; border-radius: 14px; margin-bottom: 1.5rem; gap: 5px; }
        .tab-btn { flex: 1; padding: 10px; border-radius: 10px; border: none; background: transparent; color: var(--text-muted); cursor: pointer; font-weight: 600; transition: 0.3s; }
        .tab-btn.active { background: var(--surface-light); color: var(--primary); }
        
        .bank-details-box { background: var(--bg); padding: 1.2rem; border-radius: 16px; border: 1px solid var(--border); margin-bottom: 1rem; position: relative; }
        .detail-item { margin-bottom: 12px; }
        .detail-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; }
        .detail-value { font-weight: 700; font-size: 1rem; color: #fff; display: flex; justify-content: space-between; align-items: center; }
        
        .qr-container { text-align: center; padding: 1.5rem; background: #fff; border-radius: 20px; width: fit-content; margin: 0 auto 1rem; }
        .qr-code { width: 180px; height: 180px; }

        /* --- BUTTONS --- */
        .action-btns { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 2rem; }
        .btn { padding: 0.8rem; border-radius: 12px; border: none; font-weight: 700; cursor: pointer; transition: 0.3s; font-size: 0.85rem; }
        .btn-primary { background: var(--primary); color: #020617; }
        .btn-outline { background: var(--surface-light); color: #fff; border: 1px solid var(--border); }

        /* --- TRANSFER SPECIFIC STYLES --- */
        .input-group { margin-bottom: 1.2rem; position: relative; }
        .input-label { font-size: 0.75rem; color: var(--text-muted); margin-bottom: 8px; display: block; }
        .styled-input { 
            width: 100%; background: var(--bg); border: 1px solid var(--border); 
            padding: 12px; border-radius: 12px; color: #fff; outline: none; transition: 0.3s;
        }
        .styled-input:focus { border-color: var(--primary); box-shadow: 0 0 0 2px rgba(34, 211, 238, 0.2); }
        
        .bank-search-results {
            position: absolute; top: 100%; left: 0; right: 0; background: var(--surface-light);
            border: 1px solid var(--border); border-radius: 12px; z-index: 10; max-height: 150px; overflow-y: auto; display: none;
        }
        .bank-item { padding: 10px; cursor: pointer; display: flex; align-items: center; gap: 10px; font-size: 0.85rem; }
        .bank-item:hover { background: rgba(255,255,255,0.05); color: var(--primary); }

        .lookup-box { 
            background: rgba(16, 185, 129, 0.1); border: 1px dashed var(--secondary); 
            padding: 10px; border-radius: 12px; margin-top: -5px; margin-bottom: 15px; display: none;
        }
        
        .camera-placeholder {
            width: 100%; height: 200px; background: #000; border-radius: 20px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border: 2px solid var(--border); position: relative; overflow: hidden;
        }
        .scan-line {
            position: absolute; width: 100%; height: 2px; background: var(--primary);
            box-shadow: 0 0 15px var(--primary); top: 0; animation: scan 2s linear infinite;
        }
        @keyframes scan { 0% { top: 0; } 100% { top: 100%; } }

        .mobile-bottom-nav { 
            display: none; position: fixed; bottom: 0; left: 0; right: 0; 
            background: var(--surface); padding: 15px; justify-content: space-around; 
            border-top: 1px solid var(--border); z-index: 4000;
        }

        @media (max-width: 1200px) { .wrapper { grid-template-columns: 80px 1fr; } .right-panel { display: none; } }
        @media (max-width: 768px) {
            .wrapper { display: block; } aside { display: none; }
            .mobile-bottom-nav { display: flex; }
            main { padding-bottom: 100px; }
            .stat-grid { grid-template-columns: 1fr; }
        }

        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div class="wrapper">
        <aside>
            <a href="#" class="logo"><i class="fas fa-cube"></i> <span>CORE</span></a>
            <ul class="nav-links">
                <li><a class="active"><i class="fas fa-th-large"></i> <span>Overview</span></a></li>
                <li><a onclick="openModal('walletModal')"><i class="fas fa-wallet"></i> <span>Wallets</span></a></li>
                <li><a><i class="fas fa-exchange-alt"></i> <span>Transactions</span></a></li>
            </ul>
        </aside>

        <main>
            <div class="header">
                <div>
                    <h1>Hi, John Doe</h1>
                    <p style="color: var(--text-muted); font-size: 0.8rem;">Portfolio Value: <span style="color: var(--primary)">$142,509.32</span></p>
                </div>
                <div class="user-profile-wrap">
                    <div class="user-trigger" onclick="toggleDropdown()">
                        <img src="https://ui-avatars.com/api/?name=John+Doe&background=22d3ee&color=000" class="avatar">
                    </div>
                    <div id="profileDropdown" class="profile-dropdown">
                        <a href="#" class="dropdown-item">Settings</a>
                        <a href="#" class="dropdown-item logout">Logout</a>
                    </div>
                </div>
            </div>

            <div class="stat-grid">
                <div class="stat-card"><h4>Main Balance</h4><div class="value">$84,200.00</div></div>
                <div class="stat-card"><h4>Crypto Equity</h4><div class="value">$58,309.32</div></div>
                <div class="stat-card"><h4>Monthly ROI</h4><div class="value" style="color: var(--secondary)">+12.4%</div></div>
            </div>

            <div class="stat-card" style="margin-bottom: 2rem;">
                <div id="mainChart" style="height: 250px;"></div>
            </div>

            <h3>Recent Activity</h3>
            <div class="stat-card" style="margin-top: 1rem; padding: 0;">
                <div style="padding: 1.2rem; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center;">
                    <div style="display: flex; gap: 15px; align-items: center;">
                        <div style="background: rgba(16, 185, 129, 0.1); color: var(--secondary); padding: 10px; border-radius: 10px;"><i class="fas fa-arrow-down"></i></div>
                        <div><p style="font-weight: 600;">Deposit via Bank</p><p style="font-size: 0.7rem; color: var(--text-muted);">2 hours ago</p></div>
                    </div>
                    <div style="text-align: right;"><p style="font-weight: 700; color: var(--secondary)">+$2,500.00</p></div>
                </div>
            </div>
        </main>

        <div class="right-panel" style="padding: 2rem; border-left: 1px solid var(--border);">
            <h3 style="margin-bottom: 1.5rem;">Quick Actions</h3>
            <div class="action-btns">
                <button class="btn btn-primary" onclick="openModal('depositModal')">Deposit</button>
                <button class="btn btn-outline" onclick="openModal('transferModal')">Transfer</button>
            </div>
            
            <div style="background: linear-gradient(45deg, var(--surface-light), var(--surface)); padding: 1.5rem; border-radius: 20px; border: 1px solid var(--primary);">
                <p style="color: var(--primary); font-size: 0.7rem; font-weight: 800; text-transform: uppercase;">Pro Tip</p>
                <p style="font-size: 0.85rem; margin-top: 5px;">Enable 2FA to increase your daily withdrawal limit to $50,000.</p>
                <button class="btn btn-primary" style="width: 100%; margin-top: 15px; padding: 0.5rem;">Secure Now</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="depositModal">
        <div class="modal-card">
            <div class="modal-header">
                <h3>Deposit Funds</h3>
                <i class="fas fa-times" style="cursor: pointer;" onclick="closeModal('depositModal')"></i>
            </div>
            <div class="tab-nav">
                <button class="tab-btn active" id="btnBank" onclick="switchDepositTab('bank')">Bank Transfer</button>
                <button class="tab-btn" id="btnQR" onclick="switchDepositTab('qr')">Scan QR</button>
            </div>
            <div id="bankSection">
                <div class="bank-details-box">
                    <div class="detail-item">
                        <p class="detail-label">Bank Name</p>
                        <p class="detail-value">Core Global Bank</p>
                    </div>
                    <div class="detail-item">
                        <p class="detail-label">Account Number</p>
                        <p class="detail-value">8829 1002 3341 <i class="fas fa-copy" onclick="copyText('8829 1002 3341')"></i></p>
                    </div>
                </div>
                <button class="btn btn-primary" style="width: 100%;" onclick="shareDetails()">Share Details</button>
            </div>
            <div id="qrSection" style="display: none; text-align: center;">
                <div class="qr-container"><img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=CORE" class="qr-code"></div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="transferModal">
        <div class="modal-card">
            <div class="modal-header">
                <h3>Transfer Funds</h3>
                <i class="fas fa-times" style="cursor: pointer;" onclick="closeModal('transferModal')"></i>
            </div>

            <div class="tab-nav">
                <button class="tab-btn active" id="btnBankSend" onclick="switchTransferTab('bank')">To Bank</button>
                <button class="tab-btn" id="btnQRSend" onclick="switchTransferTab('qr')">Scan to Pay</button>
            </div>

            <div id="bankSendSection">
                <div class="input-group">
                    <label class="input-label">Select Bank</label>
                    <input type="text" class="styled-input" id="bankSearch" placeholder="Search bank name..." onkeyup="filterBanks()">
                    <div class="bank-search-results" id="bankList">
                        <div class="bank-item" onclick="selectBank('Access Bank')"><i class="fas fa-university"></i> Access Bank</div>
                        <div class="bank-item" onclick="selectBank('GTBank')"><i class="fas fa-university"></i> GTBank</div>
                        <div class="bank-item" onclick="selectBank('Kuda MFB')"><i class="fas fa-university"></i> Kuda MFB</div>
                        <div class="bank-item" onclick="selectBank('Zenith Bank')"><i class="fas fa-university"></i> Zenith Bank</div>
                    </div>
                </div>

                <div class="input-group">
                    <label class="input-label">Account Number</label>
                    <input type="number" class="styled-input" id="accNumber" placeholder="Enter 10 digits" oninput="handleAccLookup(this.value)">
                </div>

                <div class="lookup-box" id="accLookupResult">
                    <p style="font-size: 0.7rem; color: var(--secondary);">Account Verified <i class="fas fa-check-circle"></i></p>
                    <p style="font-weight: 700; color: #fff;" id="accNameDisplay">JESSICA RAYMOND</p>
                </div>

                <div class="input-group">
                    <label class="input-label">Amount ($)</label>
                    <input type="number" class="styled-input" placeholder="0.00">
                </div>
                <button class="btn btn-primary" style="width:100%" onclick="processTransfer()">Confirm Transfer</button>
            </div>

            <div id="qrSendSection" style="display: none;">
                <div class="input-group">
                    <label class="input-label">Enter Amount to Send</label>
                    <input type="number" class="styled-input" placeholder="$ 0.00">
                </div>
                <div class="camera-placeholder">
                    <div class="scan-line"></div>
                    <i class="fas fa-qrcode fa-3x" style="color: rgba(255,255,255,0.2);"></i>
                    <p style="margin-top: 10px; font-size: 0.8rem; color: var(--text-muted);">Initializing Camera...</p>
                </div>
                <button class="btn btn-outline" style="width:100%; margin-top: 1.5rem;" onclick="switchTransferTab('bank')">Cancel</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="walletModal">
        <div class="modal-card">
            <div class="modal-header">
                <h3>My Wallets</h3>
                <i class="fas fa-times" style="cursor: pointer;" onclick="closeModal('walletModal')"></i>
            </div>
            <button class="btn btn-primary" style="width: 100%;" onclick="closeModal('walletModal'); openModal('depositModal');">Add Funds</button>
        </div>
    </div>

    <nav class="mobile-bottom-nav">
        <a class="active"><i class="fas fa-home"></i></a>
        <a onclick="openModal('walletModal')"><i class="fas fa-wallet"></i></a>
        <a onclick="openModal('transferModal')"><i class="fas fa-plus-circle" style="color: var(--primary); font-size: 1.5rem;"></i></a>
    </nav>

    <script>
        function toggleDropdown() { document.getElementById('profileDropdown').classList.toggle('show'); }
        function openModal(id) { document.getElementById(id).classList.add('active'); }
        function closeModal(id) { document.getElementById(id).classList.remove('active'); }

        function switchDepositTab(type) {
            document.getElementById('bankSection').style.display = type === 'bank' ? 'block' : 'none';
            document.getElementById('qrSection').style.display = type === 'qr' ? 'block' : 'none';
            document.getElementById('btnBank').classList.toggle('active', type === 'bank');
            document.getElementById('btnQR').classList.toggle('active', type === 'qr');
        }

        // --- TRANSFER LOGIC ---
        function switchTransferTab(type) {
            document.getElementById('bankSendSection').style.display = type === 'bank' ? 'block' : 'none';
            document.getElementById('qrSendSection').style.display = type === 'qr' ? 'block' : 'none';
            document.getElementById('btnBankSend').classList.toggle('active', type === 'bank');
            document.getElementById('btnQRSend').classList.toggle('active', type === 'qr');
        }

        const bankSearch = document.getElementById('bankSearch');
        const bankList = document.getElementById('bankList');
        bankSearch.addEventListener('focus', () => bankList.style.display = 'block');

        function filterBanks() {
            const val = bankSearch.value.toLowerCase();
            const items = bankList.getElementsByClassName('bank-item');
            for (let item of items) {
                item.style.display = item.innerText.toLowerCase().includes(val) ? 'flex' : 'none';
            }
        }

        function selectBank(name) {
            bankSearch.value = name;
            bankList.style.display = 'none';
        }

        function handleAccLookup(val) {
            const lookupBox = document.getElementById('accLookupResult');
            lookupBox.style.display = val.length === 10 ? 'block' : 'none';
        }

        function processTransfer() {
            alert("Transfer Initiated Successfully!");
            closeModal('transferModal');
        }

        function copyText(text) {
            navigator.clipboard.writeText(text);
            alert("Copied: " + text);
        }

        window.onclick = function(e) {
            if (e.target.classList.contains('modal-overlay')) { e.target.classList.remove('active'); }
            if (!e.target.closest('.user-profile-wrap')) { document.getElementById('profileDropdown').classList.remove('show'); }
            if (!e.target.closest('.input-group')) { bankList.style.display = 'none'; }
        }

        var options = {
            series: [{ name: 'Growth', data: [31, 40, 28, 51, 42, 109, 142] }],
            chart: { type: 'area', height: '100%', toolbar: { show: false }, sparkline: { enabled: true } },
            stroke: { curve: 'smooth', width: 3, colors: ['#22d3ee'] },
            fill: { type: 'gradient', gradient: { shadeIntensity: 1, opacityFrom: 0.4, opacityTo: 0 } },
            theme: { mode: 'dark' }
        };
        new ApexCharts(document.querySelector("#mainChart"), options).render();
    </script>
</body>
</html>